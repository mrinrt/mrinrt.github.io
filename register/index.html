<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d8423a303b674ecf6dd0ff7df27a5376280b2762ddab364bf6cc286fba98912dfbfa550af57bb4ddca913ae6a41af86372a7ce67d9a6a157d01d3aa1d5604fb39605438cc371fd23150b1224c43cfe343399587a4fea4e8761c184d8907130a0d6238b00a46914a50e9a2c21803ac438a99ec1888457da0d6fe0a71969424f0bd926c4f78ee3224ef514a08e33116b11537a5f218ffdc590f40f1196befa9ccb8404924678038f05013e19c754f9fed6ae70e52e39b0e781ed67919c45f1b9bbc1bdbb0e2d644c3efe437e27f7c71c15100022cb739aedf734981b4b4865b712e188e01771505f96ed8e20155b3eec1dde134dd17e60ae017c15e519a2987cd9e891bef7b40d769c291f080af66dc2639c552df04c04ccdb92039d8d89a1d2e3cd3d9c10f9f71ba359ee89c6ed29b78739d2a6c7d35633f7cf4dd80dd6bc0f669b3d805aec9df9d235f00d5281d2b7be3c5650f8c778361235c4730f9bc50ec18e098086c3f3ea8305a7d9af16ffdc42b6eccee990d3e019b2b2907ee232eebaf04f18755783e9a9125599dcf5577f0c3026603c874209a7a1783ffab85d1e55f60692572eca36c1992ac135b17c7074068854ff6752551d15b3fc211e51804a66007e1430f6a9303f1a1a0132ad54d9202e1fead897b0dcd7d36ae506b2f26c92bb00bab65f9515093f56735a8c7a84942b24cd3a0ba68ca05b720e40c524db0d579fc3e61b37f2da2f45dcf39a1ab21a2035873e875b0aebf60bab04507a82c6ee207529c452384ca76a020be4285fc1c9332f5aee1d5e5f78902662f3eb7a51c46ad88d815007d7976ce7f5662fdc6127f269612866f4195560be3f2babb74be00150e85662b227ba10f1f39de1a93ceab24ba73bd828a5ab35d546c199773443e2473d4582c5ce06f41570d869d1b28d912932d9a4234d428daa6bdc87dc5ada58dc024324729341e71c7b4253792caded47fb07d38e0902600f48d7454bcb3315952e406bed64c0ff5660927a36586baced806aed66207b0039ff4830eb927b5550b6cfca374eeb6c2b6d67a35171541eba5281c924718421bd48d07dfd56e3f1e7a9290ca03822d058763811d7c92812235c3feeefa15281d0469d865fce111ee78f46f3efcc8748184318bb53eba6db4a22d8b8de1985c99cc10648ff050458f13f037ef418c93b5618c67eafa87192fbe9ed583e98259f6d4083e9b5faa5dc9e0bdc83e406e02d693e70a122d02ad09510ccbec2fef14a75db36edd5f76f39bd98faa36278504bc44df2b5d8e8ba58464807d691d2cc1f88b77b9481948f909bec7b9d05a5a2dde5bd295ae337fd316621b1785248383d983469f5325cc11566276a11e665a78f45769707e03f20e1b343ffc825f4e86a5c981e962cab4ec767334d478e8b4718030dad66a8b594666d4a4e4f79a2dcd8e3c149e1fc5574b4451cead69b580fe31501d7f27e28769d3cdbd4b3dbd50f4ccd7e77b09250ff061da317d316c3cc34063a2055851d53ec151f06ab05e707889d3959cc49152118965753683afafebb867da26fdaf7d188bbee0fe48dc1b4ee52cab2c6b08bd5020f613c92bcc93e1978da9b199d709ec22dc8ac062dc27b218013357f2122135dbf617bc79bd3eef02b6cd6377d651ad51c63f3ed86aa5b426de3cdbcfa2cf8bae28bf82e7ca85512d2e64b897d292063346010af862b590d0605295b1f424b761496b7c3cceef9bf2b1852a5b345bbef73c31eea6ea1cc7afdf594aa4f1587daa975e2d8096b75098675657cce952916d8184a773449fa2bce61ebb73d10ab5349f43e46264f3bee55ccb53fe2812f09bdd7015e13f9c109219ac8d81e4930ec1ff5647a3dc269eaf66dfe0775c451fa2de820b440f30e1d6c7ab61f72133f539e66479493c679437fe5972acdf52bb022efca54f7eb5ae49f5a18d9f18a8bea643d903755099600b8b122c2419e38536d5694d86993ca8ab114b0e15805d0f0570995700b3d62c9bb49a3b7a402d05dec041741cd587cfd526e5fbb82aa818b0c1f0e0ea0e01939491081c362003ef0a2771060e1e036d7472ab2bb20eb0a1393c3a10bc3460ef84d2633b6ef589dd5711859bbddfb39bdfa1793cd5d619f5955feb7911daf1e31d3d4c0d5b55fcb08ef920cc559319e81d1353d73eb9a5552ca6e7afc236a4875787876646c6f46916d10fa8845f738d67fd3ccbcbc0bbebe14ed2bd7e9a711f9bad74b84b99f0f03a50ed7f7a112686d94713389ba412232546ee3daf67ce4596f2979fad3d3f0ed37f76609a532fd3ea16fcc84f77a1a2ef791746d0bdb4b088ffb5608ee8edebb0f9903c81d2768140a60170ee5fa1855be47bc192f89c2fd586df1ea2275eee705563c0bae10dbee02c41f481f9721fe22c3eb882482e40ef4ac2ded219f384d0c41b7f0a3ac7c378d6e1cfdcdcf9655b491ca4673aeb7a3cc9a378be2ca3e2d19e959c63f57e86699cb4b28508e651a51dab977ae28960e5a3f16cb53a4449cb1d609182369454bb7afe2ebf4e5749597beb02bddbbbcb851df768e5209c652ec64d414277b9a9ea9d1a831338cbb079086b1e957661cdd5fbed4054de8026e991c51b1ccfad65d11dc09fb0a52dbcee6a73e6be9e54afaac52d90eaef58c6ad8cac39e6497374bd2bbfec0c3c869abebf2292d7ccee6a79858c8dd7169c19d876f1a675c45b99eadc2e4cacd2e5ec2336a8a7471bc0c5f430b8ef31f5189bc52c0274517a9f1c5ff86f76b61bbbade60f29d5bc79d1666dbdbd74246bc4c5ab462d3478fe1e5f0abf92c40455cf856274aa59e2a3f99a83cd390e70d9888c3017fcce7ea3a91f91e5397901a498c82fedbc13f85ccaa06bb97eabb27599d3316a0004c65c95d4f6f52bf88db0f812c910f82f4f022e67a2d13e4fd80d4a171adba87628fbbc34d886ef0c4bfad7f1aa41e7d0839e873e42003998c41b6c091cbc6940daaf1acc179be8ad5ccb3a31cd94a3b1e5e6bfb952a7346162b294a7042d41f09225faf9afbf32c23e2ff2976c6a3412953c381a58d9a460264b0de93ebaffc3b451d408a18562313ad8911d8ccafe6544784585b21680e20206761892a3b465bca7c26382c193b80b9fa52fa2ead410bf7dddcb0abad64ecfdde33082d1f0893191d56b187c8569df9d00dfc78e1b41383cff24a826ef179708a23dda0cbefd41c97df39d02d086c187ab74698ff4a9d4ddfb777e863277afe7cb2e4925727d93d8f4a2a3897d4ae4643a6f0ac3bba4fcfc8ddd8b7b4c3f92123ade3cf55e133939346e235c5de9b6fe54c32e7d33e9c055f9961248c914c2594083feaa6ba5ad917f6dcf9e933bf51faa8c65afaefd5103f1a60cc47e38838d2ded97393bfce4aa2ac96dc892c6485e29f7c9d99570906a3e9502de1587128bad8117b5174c0ad841ef6879c15a34628939bd3a8534aa2debc1443e4645e53e7c9f8df1c5344d3f40e964bcf71f22467c2c0c27f30f0425a887755ee0865c337ce8585dd85058d2cb2fa3b0b87ac5ea4750c01f58f57181a596833d193c6858c4523acb686eaee83e38c8d3507f0078623323a6585350f231004c399af1162b773a1d65543770bec59e478d432a8d17de86fa1fcda14290a38cc3e099204b58696b7711c431758a63e717af7b12832d85f8734615e036ceeaf0263c5b33c11d136b2c27c9485d061b92c74a446910634caca5ec41c23bd51a4358c0f30ef8a4eac98ab652bad7b886be296aab7e7468763d9520e358e6688a5b621f1422b97f8f82f6a04d16a340ce6a5e9c75b8196f0b1ae97459cec7e62a69dc504e37d5c5f6c59f623835f1478b4e3feb756aeca2e4b8d021a7c3724830d2fd5cfd0ba4c5e06e59799c0f16521ea7a024cd761e073cbb584f57214af4f52f3682a816a6b145a044f3ffda0c0bca22b7b19d7970f479a40f8f943cf22e7a9d17653fa5148d93ff273800eb075c94acdbccca143b3cd4c3cf3a401e60bd3308bcf0e862ee189723ba519ff996c09fa692e6068468ff06194b3f53aff7bcb8d4144e656e90cd1f6bdf2bd5aceb0bcef46410e9df2f9aa833c3048f79f2c7629ad1587230059c33a85c8f135d601f607cee4e487a6ff1da6ad4ba81593c3771c3a9d5367622e941912c08b3071f6df8627925d13b8d66d31282f5df436bb9130f00f1509cf79f4bc6163af85f63753462d8387cab7b84d3e9ed9e7575e30ac0f8817e5a4e316d555e0130571c4cda5819075d6352e4b344615deabcb6b7e433c134ec57d27f108731a4d8ed5d429b210500d74996c1c54f80ed3ed5c8ad4f1197884a2187f8161fa48447365fabc39d7393d60eadd0594f9c3960387fde18d6ebee1c275bbb19bfa8e0782a5df5a2861d0b1473275c84f0fc5c517a04f2bdeddb0d054d6faac4cf22c17281d74849a6e10fd2c07915226f8a1ca490184604263fdc7b5d7f825a719707997fa683f7586e7f6b06ba4a38156f7302a241c1e3cfc1148c106e44fe1ca6ce830c9cd394a6213be06736477c5cd825a27ab4f6d40893962379db353317da54c958d122d1ceef333a9f1be4d74df447c5c76517c96f9f595c07453aadd5e1a7d4a7a5e198330ce1a45298362caabc5c6863d58b245f3801b5e7b70b58c3e609762731120c8c1e365d3bf6cdbe8aa5b9a2a172bbf5d224a36c36ee9a98a5f5d45d3c6eb0aa55f23c467fd0ec1a8128a95b35e957ec31650b3397fe962349e9b3cf8af4598c71d55cca02d7c79d51b0610f3bbf46d808ddd5dbaef047c5a213c54796dc5f9e4b946a9eb37ac58506d43b62bcbca1076e41e7276906c4382d52c8806004a2bff38273b19c4c946c83be9a54f4b5197b35adfb4d77e9046f9ae1265347b9d3c4fa15cf90bef3ee7288f0b0f67732530c2a70524a86ffb696425a8166b899382a350bf552c7e37c3e069f765583c6d5b0cd986416dba7fb7c3af372a37a088b008d3f5a7eaf2da2074c437b1ec3f0acd9144a3b2dd6a7c7d3f62310a1d4b62ad6919aba045d1e8b47103461d8e9db492f014d48f34a788a7ed7af36a36f42d0e7a049a347eae1745fbd09d005a79072130215576bf18f44291e9cf1152492502e98dd8d12a797925ecde7e0b20984d50f1db75e2ede764a2394eeb35a294d503547396811b886336edf5949c40e333f74e17eace71e4a0f7a3862076e3f00f92ae3615b55ab629c0551e80f81e5a36399b95991c688f103ae7ed7135e73f48a9216f87cda8a0fc34e4c2ade2c28e91170b9b638d36da450ed5ef50835efdedbcc7b9172ac930f20eed8d456d1bf6b5ca7e44bdab466b2836bfce9b6afedbdf50a442496602238bc77d229beb62f61c1a1a799f4e05946e7e37d8f3ee6a9cd7b2ef77630b7dcd8eacee9fe4f0485175eff750ab3164213a3018b2fb2bd9aab472c62e0765746c046c1f68b5e0b7e59da94a8bb4078c9c31a4cd86518348b8295286aca07f5e422075e29a1a12cabd67622164d519b004070c6e206ff32ec542a46d5929c32b31ba05cbb2604e14e51f5530ba6dffcb08a1ec97680e3b0c0b54e6fcedd30132ca5153d670009e82c051cbdb756139bf6a4b9b527debae9d0396aa061acea3b658a67ea67379d451235fadcb074efb8cfea0532ae1cefe9b02a75c25026a9eb75e07bacfb96d5d830f755717db4e39b528ebf926a4cbf5b47d787977a4d08b791b5ae7e34b9811dcfb5bb8c10534aad1d2417cdb0e9da4d8f920a3706ab1728547a6be006b0982451105a6e62b440b091bc8e98b6372a876c9e8000f1dd774fdd86d344bf47c9184bc375609060d923c0c86d884ec8e874fba641e9d7fa97b412aa23be0b53d2c3f171017735115a6886451658098ef012dc749f5dbbe07ed2a41fd88db60d6239a528afb5f58e88a496be6f64bbe05353bad7b7730e935a1d508a03ff68e47edfdd590ae68d1f2b27cb6b21ef9f8d42eefa86c897458b578532000e5df220c5d179a25d5ef04c65b6c372fa69a2b41261b011ba5b58a6ede55380ba254ebe5dcec9c34edbdccd44d951f5a4720521b5d6d13829c56f34b9a2e9161833bf20a3f7718e71ad64d4e21efd568ad012df2f8c8a110e8b922e38e89f9252a0abc50da68deba54a570432279dcb2e820453591f36f50f0ee54a30a44ad10c61ec163691e31d13eadec80af12de275c0c74b1f64a9a662fbbed423f13408dbf4023da72dbed02679363278e002a369f50dfcd0b8fd4c361d7e4ec1dcd521214ccaf47a486debdc0a1939f4929b390a5a4ab8074a561f4a60e1e7feff283ffb55bb16d4f29ab03c29407c600fafbb383b986cbb0b8d2d095bdd8a42df25c5e8fbb5b00302a63cbcc21da505df75fc6db758724cfa9027b08677fc160e7317b1f7e4cb4639f7725ec429e5f9f60acd30b7ae504648ed0812b9008ecf153637f7d1c68cad535d6b04b92394058ce774a3be526b9e3fde4b172ed8833f7e1c34551eebd76a701407743ea9ced4bbb05b668ae0f15de279ff232793fa5ef7d7db207e35b3aa0ad04f693ec6ad42a23af253fc24ca50940600cf62ffb455584340d6735d991930622d6e9da56a6f5ded465853138d56b7754bbba302a7722c31a3276cef258b537b401972a829e409584c4672f35b2cd46108db06804f816b09f1fc91b3bd9b58cf0bbf34ccbb7b1eaad1aadb1ca65c735de24c763ff1eabd3af07ade62e242c3ba8b5e9d2739062b61ad3d3876cf4e3dd3c6fc3d29dd427e9311478eee2f31a01e9109b5a1d566fe10cfdb634225ad94372279d36398d1939adcfd3f129a072e7ecb961e52e9aa851531cfc57765599e56e5739c99785a3770ed187f085fedab90ea07115aa3385553bb192dcc3cf4e629e9ff5e5f1fe038f15f189d0c25d320d79e88f1481bf8e13bc159be2117498e0eaa61070cc658a3b6459963c6fdbb7624fc6a912f8dda2e09417462f74c52ddaad7f6384f92261061c8c3306ed1908f647b6f0538544353538bd08ea683be61c4551fd6b57fd503e92c5fdc4a4e875e5e6b6b59d5cb6f51effbadfdf882c49ddbab5dc96db04bc0c8dd58ab63489c345f2f6c64e7499414760511ee623f85bd716339bd144d80ccd8d717a747ce65932b09fc479bacaa17cc7b632348699502f9e2b46f912dc7f00078027c1a83bca16157ab45ea1075be327f1c99d600cfcbc585373c847cce13cd8fd87617d33a4803784af46b55e672baaf5db46b506d5da07d70e15fead6cd5ed414f75e445685aaad47f31148c47225c91da82c20e39f1dec9236f42779a7a14dd747bf9502c5e18420049c37621dfb1e1e63d09ee977db2dad148525cc7bed572207e387cc44b7f23260d9dc004f00e2cd3e78a11750b03aa1e5872f104e4a200d9fb336538bd8206d40ad91a930fc47768fa0800925969f7562a1ed6d2d6190bce3c0856b38d21eb720dd65502dbcc5c5a8cfbc785e3f7ab15ff20c56055ed323d352696366e0c3f3a6f65ded0b0ebaa655aae301e2a3c758d6f237d4ae95a929822ad0667e94d4034058ed34317d68d60ea60e161516033342fdc7d39956b89e90056575f2de172feb0a53970ca28b800a7ac1f045d6d74ee9f16a44b00023472b23bedcdba2d6032eae53423c9c9726e7e67a30592c5fdc49ede91bdc50125e0f2631b1224aa2801c44a7ca836d7d0da132cef48f25dec9eb112792f01760793e2708de9d7b6f5b218406977233ce7dad30df4c24ff5e191b785de3530d6a6370ce6ce79506abd9445f4f8261ad48927e2d2d7a30644747d114cfebce7b69a6262bff8d0f55b597fab7cc3a4e1bb8f3d5e39548f15d1b680e03bd5da64cd67a0944ef5e5725fa7ae9d79c141322433a46fabb57d004d7a88e9c543a623139c6b71aef86aceb2b9f1fc91fda421ddf5a5185c9d8961ef644d1c9154e2f71272c21267c9e61ad81f96b321988c749d3723b48a4052f3f673f0b70d085cbf40a246fb28ddb88b359ece36c81f93a0fa9881c4f876a63f779ecd0edb99cb4b9c9aa83b5ffa3906cce3398968095b6f511337c28664c99edcb69656b974859127746880ac9a698bb4e7aa6b68821ce5f9c9f41f2609affa41288dd384a0e2481701f126b73031f673ce2fe4b75832aec06e537ec23b40227092ace254c03421a95c06476b12f23b3102b815b96ee1097de95508f6c4aac641b94367fcd22511e589104484e9528f9ff032f8bdd035024275600f47d6a90e3726e156265e09ba88c18d4e49c991f177e1d1001ca35ef3db3eb9c1a6a90351da3fed76b0c7773fe347aa850fd61a05cbc0909af980a721c5cdce87ea3cfc85b9b151b11569b8f052eb845c10303997ce125f37c3e51ba64809e7340b88c5d19837fc9984f220a50f26f215da2dd7dc7739b9697e37b7e86c19dbc044ee01bc3ec2a6279a1d929bab11f36980dd99a2143eb87dad7499109408b69128d83aec1d104e5683189cc093bb4dbb9f4b4579537186cd2690a3de157eb791d2f5af9c79f52ca0ae751fc9165eaee2c8a55d3b575533ee8a3e21fc157ad5615d48cba3210fe864f95e3e82140768f9a07c47513997c8c196e0bcb20353d1fe970c08863179af1899b39a3b1415af509e07e164ec0a628e115580786f3f89c17a6f791be26fd3856a77ddfd2b211af4ae4cc66376b8aef64f6a70add98a461985376e94974f85134747cbfa14f219704f4c5c8ffe73826cce8e02af50d40cf79ee9989e9a54a1a4544ee81394f363201062432397194ee41ef21ce0576c3fc71f560d85776386927cd9dce2226f5b7172e641bf6df72f4a36351c57118651cf0295c21240c343444bbb894182c2d5d51a8c42e69a8de0d8eed8675f3587f309823fef5d6058165d094c08ea897d92fafd0c5335567ea07981dd38762d75ec173378350f9b692a18b2304fba13ed7bbd03bfcaae94118a4433ee1d6e4ed1f7afaa4892932c742b743a4cf5c09a0f7a70b59930c82cf481b3084b469ab87db511064686779392c0e0bee60e93175c9b83b6dd9d02336c43b990f1d1e0d354e8e18353f5f5ee73d4cb1cab2f07ab8f65bfa9f0040aedb0623e89873420d0954b9b16f83c1b0d1d019e2e741d36daaad79e4315af5006231c343819c33e7b0e0f620a72ed447bba044c3a8179208fe7e802e9623ce8e1d1f9a0f89d4c8e23cd4d7645b1968016d545be50d2d9a4a9318ce7c5087d94452a4bb98afef5ef594ca151ef42c29aed598b0b7e9a4c865185da37e908bc860b3bb109cdf14a2ca95812f8c9826cec2c1145e0f9375ec373af31db1af9953ebdf1cf91efa998979ce0f80c2bcab41a99e7d6014997fe1c7997bf70d4f3aaeb1f32d559678c1ea91cf5631851bda92370946737b53751830ff17118b6b156da6397b7d957341a6394e1e45417000feb172e60e2092af9258297fd708252b3941a0e8344b238f528b13b9c3045e0ab0ce05f844674d3ed71a94ad9589dd834ef81c18bfaa8404bd6e8a69dad97a4920564657e839a0c10017d09866a9549262e63bd809ae5dbdf37abf583892e16604867c96a1bad375e4455b8e840190050dccd5ba133dff17025ba14c42cacfc8bae52199fdcdd437a67cdc231ebf6fa725d755a9e313239e56d7475a902fa57d8b3eb40088a1bca64d7202fa7e7e03b3d05a3e1afc87a3254a7e26a1cedad360b8ecd71baa384c00f5398d8d5f09d19a495a125ebbc6cc6c636d713d4cd5075c46445d753778be0b75929527acbe992bffaa1ca74f23fc60ad43e6c519071cdd3c04e96bde491e02e21e0a9cf964d60e4573cae9c186d1ed415ef45133e34a2d71c340f40d584981a783ca55c032fec9b1c71e00fa30f6633c5fb94fda30613723418e7b69c5e29667970c63a5688c9ba4b80280f3cf7d8869cf8e9c0e627fe70b4ca887c3329a895131451e5173f7b82ccd944430def8aef6b3578fd61b441c9f3d0245c0aaa251a45dca55dca62dc71d288e9243a2618113b0f911180f51941b7157e845cafaa68a27e244e3fa790c281d6cffd7b27c405c2a2b31e9c35282a2573e1912e76fb16833059ce268bc8299ecbc3595c84ec121c4d5a4e4c4b775a71a89c3c1c28e0a9b5ee776db10af904dc7c1a9b8e63ae47b58ec730003dae4733d8467eefc35a19b558ce20b2368115ec13fa225e1d382858aabff385b3a49e29579fc6dd9243ce022632fa748e8705b2b5c0e17837dff77156331ffe3095f4dd0c32e457f17f46c7a32e49fea81c4d2036b689b6e79871840c7e3e751205e0aac79eb580af1124a803916e90289336a085eb427b37839824dffffd0ac260202b739bf7530af58beeedc1f5f74581bfb1de44dff484a148f883ce2bf61407a44371fb4280b99fa87f22c581af54386d7f231a5f7a9cb059266ec16de0089378069bf88c543b5dad9c67d6fc618c00b589737314b23d9f22ff732bfd22ffaa113e11881faa903c3dbb5666ce3488bb4d5e267eedc411e46058a9f3aa4b8c65a4bdeb6ceeb316e371efe4ec05ad77b0ea02514ed1567fee3dcc0af06ab138570e7b17e676267d86244507ff78f1aa6c3eabcd3893a4029d19ef7b8ec6dd786c0beb47d904ea9b8cf9fb75afabb09535e2b2275cfc729456f1d624ccd41fb0c05467a1f3e7620d85e0362d35a907148f717de39bc88d112216fde0e1a5749a5052ac8aaa7a95fcc464a324a6c25f8e74d9e9a949e88bdd541797acdc4578fdbcef3db0c924a874ef95d750260869d14e703ca1f922c97fe2adf974f3ab81111bceab44f611d6e5454e5528b56a4d7493f6e5c2c842e20c4cefb49f0223986a4beefaa938ebee62644f3ffa0c7dce4fd178f66ab5f0fe49278b453211f2da0a2f5c747d12285be9c6eb3b7325076e99f6275334377daefbdc386291cdfcc91fba9d49213994cd07d240e807ac5e6d97966949651b34c9bfa6a1f9e99681876a34ee81678b6dbf6bd9c6173ec551878aec8d93f23a7463d727c2a40f1cfea0682c0ac330a54bdaf3aed6345987f4abcaa1e4bc3cb8a259dcdee4fcb765e86d185eb02b2e9cd764c486ad037ecf5e67ac0231d3a5193559c1995524c4398105eeaa12611099fde2c3d26d290ea6e6d23ee375006ea0adb3c4a7fa02426124965b20df7297a7891080301a047ea0657b0c90ccf9a93f70c67b1ca4ada2f53988c84168b05226be6694d501733f286710b3a6877ce562b6773f4a21640ec33d08ed3387282b4d443da69c34e5d894223bd6cc5a484315625142e086dd9a09848173e3e5000bd53e27af620abd0f244764e37d545c0f1510d3e04cee31c98af367ca371a6f0a90a16af502c7b483c7f2f60a8784686ac9bb2adaff3d6fc796b255886d04f77eff4304b3ef621d6228d3a1f0eea69991e1bce9e03e839dd4f14b123275dbefb4614aeb434afc6da0d652445e688a46362e686ac33adbafca8d26f79d245c68adbe31629478d48ffb45b3c9a402ea35235f4fd30909f2ae65359e26611ca392ecf7e35e634dc80b9502a2a987847e4f499d2ba67561c7be912ebf12071e2c2d2dd79706984f6300de6c0f4893cfe1f921a63586fb837d38db46c59bc363f4fc7fbd8ce644b3dd2e6e4248991ae75abbe2d93c572c01ce91fb5dd1b3f33db038a3eb0c9b1d852720932ec36445ff06be1864b8a1b05d1694788a4a607590716b72d0ca51a7bc9debde66c9dad58b9037f79dab7e50394c839ba2e894e433e060f8a198dbaa24ffb0679f6db661dcb42c266fd4bebc3ebd474fead4abdb5f2c8c332764c31be03a3f925439ec704cb8bc2c9801fe1e6b81749d76be131fd1b75a24e32499e38aa753ed1356e52860ca17de711f9d60e933246056d557e5b0595a7998158e2f764c0a11cfa924b5f0706d0ddcc2604eee6dab3e638d100bceb88a2cccf0eed3f60d819ca582452e0df8f2ecad7733d15271f01055a114efad042683df41b5cb1ce356ec993f57340c80d26ac02f0fbac15dae7fa6d3a8eb619649380e44e9787fef037a93638ece757f2fab019b5c0b877e9c065b738dc55b579673cce1f2731d42f9b0ae1f0f2631abd45fa454d62d7d5cd559e1a0a5ccc5f2c8c99c2f85774676f6c07764dc99eb1366f5da2e479ff4a4e3f95631ea3eb3b3280369c16953070a4d6ece4bc2f13fb6022d2f0716f749b6ea51113477660fd9ccb1ce74faaf9516cbcd624298e68a637df4d7a48a4fa64172daf29664dfddec7d31636d36a5dd4b7c3bfa2850b8738e685c5981265b50a32095157897886327754287c882580b3922203b3e30af385d4bea9149f04f19a2ede3f51e19c2a379742d5a60075482d79ba546e03b795fd018d6d3caff2be0a29bd3f809031333f48ce3bf45cdfddb3ef3c3af6e5f8c9e92cbd2a83862921073f9df15a3d7a0f43810577f47ef4fe9141c49279a0a9d3a27f361b13d4c0a0f3e2288eaac5b8a4c50d5c07675aef7aa93b2195abe2b12d350350f407103b26474440f9a968c7dbd0c3244a9da93ad93eefe91ed5f9674d1f8d90498e9de3cf504fc9da82f81c86a9d91a5c62aabd760c69cfdacea4b456ce020704bc266cfa4ea0d1396ece2d5f6cea43eaa3758d29fad0df418a5f64043af01efa304ad557b0ca9273d4749b320807e834889ebcd9ff60935b6e9beb3656d407b9b7e537c416bedc712ec0500a47c87201a406e54b506b40010b60b2c2e99e2990ba4cb7c3cfdab5f1dad9e9c8ffe8ad27b21b77178a13fe44d6ee964d8f857cc77d5d92aa584f4b00eaeb051d7bebb6ecf54ea129025c9cf641901b148549a183547f54b3f4a7c0e348fb0971e7f09ba1c9ffb7a9c35b24cd50cfcf5d026863fb7b0f45eb5802773d2f832ab18986806987635496dea1d5519184c70edb47644239dfc2104a2262a49e6067f39213f124eca745f8fa9af2ba04ddc517961dffdc904d702473b84e5742c358c7cda7057fd63f9046b08b7680c738f6110b1a1f5a787ec24f79471eed20bf77e1e2dbc73979a3ba84dd7e6e9f2f202015547d970c99c04542451a63fa156bd4df9f576b7e079e727535b4b05a337776b9202cd6a334a32c9162e7e8358214a93ff30de7ab4038adaebf8d961140fa4b7e789ab548ef8bcb5abf559e9d426ddc2e4efa5f713c64e8b08da1c2c7031219402d53161bdc8377f5c7162e807403c45d9775aae04cfd8d252362607dbe2cca3f024a03f1ee98a84a340b5660fe4115b30a057966ac08bc06aadcece4bec4b870169105c1b5002e7e4b093ed41d0d48efc5e2c416cc9ab3118c49edd5d5586cca1c7de35953e40c49d2ef5fc7a5a66624e7503e710bf4059063cd2f3d5ba020c89191cf75fd1b855c23a04450df30d19ad3b850910ebb1fd9e2a8755bb4a8080841ab0d6a707a50bc07f1446cba4543350b1bb38c040ecd4f4fb53c6303d90a93222d92b1c5856d854fa9fc004de902f2d7e9998dc8ff354c90569f5bb83325bbcb66a0b0340f0f0776e9d69e0943b7cc2d185f13fbaa09c57755859ad37c33568c43eb476a018164101fd99b3b084292d7f8445e0d89d40f41d29b1b87a5a3fc806513cd757ac6bdaff93a2fbadf4e230a113ee6fb405c8f53fd8f61ca8ded2d07994c9b64767d12b886764401a5cf10e02b55efb04957112b7e30924b34dcef937382657d13b537f0ae7c4f15151f97c5ce0e364704730180d3912efc5521d2cdb0fc1b356b413625c99cbf0dc8c98d0e253b6a4730b3d4af0b8da23a6274748f5c3c0927b465c7bdd7b6ed956367c739fd14513787890122d6ebbbac3ea903db088abe0dd9be5003357c479c8a8d3d1e8fc4f6215a160d46eee3b7dc4f14f1ee842f21deb3682b5d9cef8942cc07f1c3ec65bd2d25be0ae9b5be48664c7c660cc071bf75841bee3ba9cbf3e71f81f403effe695e277e3cc0725834b4247f75bfdb4256785fa67874683039612fe34257df8c6d3ee84431e5c1a5960242a6fc660ce69ae3943d005f7389debe28cb7cc7837121f7069f248fa656599ff345684fb25a525d2ead9cbd05310eee9fd6683442a432c74b147941b2732123ff201f7c1f30466b1cd8f4e1f1774cf543f3ee2b5e3204026372c7fa3d80cc6ab45a75809641dfc5cac318b91cf131fb97843fe6aecfa5082f6b8aaaec8e6df9a34bb220a65b398ade722b372a4b8693d2435b65989e997963a31d5322102f23f83df16295599260b3a57e486bd1ce4ccac68d2f1242e2d67adfdbd7cb72ca0f40254504ba9cbc5f23b891d26583916b08eb9e0feb216bc72eddf9a9bcb595b8864c317429b8530504a5f5489743d43f0345c1ee64b16f2a5603123856e1b1d9dee230a5d78319d7fd954ee854837a17f9f573165b1fe5220c04e01f0a870da9ed172f2bf53c4c907d4f050766ffeeaa1ed0cd31bde1c2188fb2b208705ad296fb77e1c584b168ed37b1f68f733b0b10d57d146d81d03b3205cb5102ced54c5779a9b50caf906424359e0240383d1d5a828d6943ba895c7a6b49be3338061a61702690405481e5d8e248302e429a5d8373582f5ada2e1450ea9ebd250974a9aeb323028236052592cc1a0855305e987c998e066a818ae029b19869158ed270785f0a78568137d120de0a2a4f0828d2df9216ec8dd4582c93cdd9b23aaecd41c9cebabdbd0651f04ddfebf532408d3544f83caf6f9e98562a23228a98f21828b1c21f9dd2d74c603d9131c49a3832c789c7054d4f21d8c41bd554f05da6bee8912fc15b28be2c5b5cd86ac78017aa34641cfcbc349bf40a2a77e320dc964ae33642391691969e6b5e65fa688b1711cffabe3bda5966d2c03eac2567c830ae4671cd1ac7de4e0baa3d751bd032c982020b6452d64661763a3440a887cd9267f7945564e78df4ba3d538fdbd9bdc9c73c3b24262003fc7ab67b37b49d85706262264be425a780239c8e6e7d2e0804bc855d6639a695846c215447eecbb438e730bc8f427a5fcef7271335356002e462e4dadb09f7aced0e7dd89b71a128da1ca696407ab57a8f0f24f6a2204d6fb0440fb56050f9e3a942faff1cc3980787f340ff33ce7ee9e7cd55c6ee3b793d2f5250632e4e0dfe26d6da2caf029416511b2a5f6b83c2583f9df1187e0b2d2fd60a6bb776a944fd91d75b707beb56391c4c3e7237fbbe3e87aa798191c90d22dc64dccc1e5e422fad7b95e63cab29dac25becfe0d98b7a578099cdf294efc260e097041bd57d726874088379a4eba12a11402c76318d7d0596d0110d1173e5b68460f6bd2b22649cd8478a08f32422ddf674cc5aa92d1e3217392556955408bc604cd45c1ad5feebdaa2223a24864da5c0f0c8a8c47e5d17949ae3ae7289ea9f703bee0a0d6fe0e2fe44011cae8f51a9e31da6ba6268aa2ff85ad630c142c46ddd5ade31b34e2ac9508508e77915fe13f61080a6f00b27a8e4f277957628ccc7835ab50fd315e6fff38acdb80cb0078dc46bf359f06979923d980f5a65df0e41842aaaa76a1e9dbe26772b3e8d2f65a560156240ec2a9e8bfa77f36470e88e353636b8c10d7151335306ac1c1ae3e8f9460df29bbfa3bb8308d7241cc2319ca3127a92d59633a896febfdad30996ed52d237bae072a6b81ec6b6e3e80ffbe706d53c95df0133d2590a234d2d9cceb45b4bd91afb9e1f39fe1edab7941afae5d8d0e430b6166ea92b8da1d58f689442430cbc741795d5a1b6bd271503ab2a0c813b92040d3779e280752d9707cb8c76bcbbe5408abe737ea4552a8fc9b3b66c2780818f9b7cc15e3c286bb5a863db025b4b83aba3fd6a9726dc8215d30548041c908668df50d5befcf1c66beb217ea9431a5aef70ddfcdfc185b9a2ce5bb71ad76caf259b333a05472fa45a725bd426cd4ba187364b7f070579729521441a8ec821c59dc8a2a57e625752f62d54377825cdf07d1098f481d5b28a25e9d3fd5e10b45c89ae37b01e6b9eaa76b1a5df37a6b5552f62786ef73ee63d0b6f73eb56aa9a6177319bacf108dcd6ecf004295041e4d38d5b8077606747e59bdb06d4048aae27925e0c14b2e80424f7a804da309ae0971112af5cdb58b1406218e4b271f4b40063f7523d376b0609188572f0d06a2751bcf49e0702b62656371b83e590bc2db010387a5a51865e6472b86d645f54e16df8b220d2c6e7eb445a603a3bad6bd9f4c2e2d1e5a6dc6ccc61ee544708b0b84580c2f40e3626ba49cdd5de00df1cefab714262635f980951e74652bdfa94667274f4d79611e92adddeeb646ccb37ee87c22896ccb6706b004400d79f7af61ab421fcff9f54a5b493400d791994024a852fed196c9b021bb0800d44a0b5e241f98a7f70512c90bcafed64f0f5b5d93860ea9f0968e99a293b9210aad06f92f1d3746bab3a1f9bb7879e158e026078d8674fee28e976fb02fb26af393dced5863d8cef5ce8e84269c0df985c22bca743b55ce73aa2f67e2e3e1c82f685d1324746158c9c10ccc4b85a077724ad0a6b63d37fdd664abf73f80f2169ef4d2d199f6165bf819411ebe6d7ae48b341e5c0a657f7a21a35f997bc9bc5bc0233cde06795f0c5e77dbed9b83a63057128878284c17cb35c7805a7f3a078119c6751818b81af9438b96d1d4349a51691336080a1b601cd128bb030f99dad20f3285006f3ff2347f14cafb19e2195570c825f55944ad2a1400102e630b8e8c79950eadcd5e63ee20ec8bf5e7cfc2daaf9c79d1e625a83ef1271a63473a378d736e98296197037b996255c5a5dff24518387dc3534f3cc517f9ee150a201d2c33332b1e12570b9e909a246d98668bf30132ab7ddbdf66e2a8b1f83dc36bb6585904351b76154cf6f50c59554b397088e904721edfe458b5b04d4e4ab8b69eeecf533a2e11976827d1b36df33d50fc86d20e332ef716ce86d064475365d4e253acb1887c8a420da77408062f5d9c6621245142bfbbf81aba40456cd266b7e1895215f062aac26399f7690b8d156d771ee333a04f4009399086cf285f8fe22bfbc6ef60725e6abc9625033742fc4cbd65f7178bcb494f590ff0d0013be7765d92597f83269d865133db7e8aa97242b6da50679f4ecfba0901d4340afa36704c7819ad259b22970744c04b51a38c7863ad39854349b09b6d197f2590284bba0fffe984e32cd6aaa1cd118e72b332670955a24343bc6ea10ce9dff2a0be48e54d0f88f983097458ca38cdf0dbbf5ab09c67e16a5594c326b838423d01d147bb2cd9c76b8a9c5dd6ca9843a22caeeb10904581ca2abfe712ae2652f96edbc7c2f85ebe4b38ea821572bff88cc4e91145ddac98a6dbca6f94efb6c58de95fae241ba63ae23f03f34a9a40725a926ba0437454641099ab0202aa924e5798ecea3fc87295580075e7ebd78ebea59b5091ae95fcb84152b4e02ebec2ce37caef05bb7f36f359cbb01c8098e0c09ab33d67ae67976f48e2793e2d2b320890d8eea7500bc5b238c76888a2fcd809475ed436348df8a29af4ffe41306b8d3e0a5e60d2c8769cc55fdf4941ab015155c8a9b7eeb30f315f2aa8a6bff615045fbd74afa644d1b7e1e7e108c609b88407716210912f6058e89a3e9d11ec40aa1b3118935d5a225450ebaec09ec46b44d664c791a8b3a77e9900a0266cb03fd8cb2aa5d99805bf4a9283ca9f8989b8d9f5393f84bd31ec175130d9e69426fd35f2f8b966b09e155bbface79617218aa85bda758756e16142e7b3b5a87842af0f6f671bd05afe50869a9ffdc206f21aac2ea9921ba5b7ef75b978e9408ea080b19604a51ef54d1ab4b9f9f213754e6ac7efcf109cd14888f79897ab0e27faa2130d641413cced04bba47d08bef782577ca33beb6693cf7cf7c63e8931680ce4b80c6b463973abe38d9e62e71bf3ea83e28505f02fd28b7996c34b5deb23b90fb80afd009a1ffe8da065d6fc0c167651d56097d03bac8aafb214187aec9f76f637cf9740a8f149ae74c74f26be7b9bd947de635d9346db2f24ba87e58480581a335aee464f6b6e5951de9f7cea7701780754671b8dcb0bafca28f4ec66e6dcb0f1445b5c1eadfdde0bf33e57346f1fea4e4b161d8a28e484a165cc6017b37da31f487e360e518f0c501b0ff11f01119d435455c71e6241b5b4358724619d0e03f54bb98676a351e167ac51bc4c509591d2ea5f806fc40a26aadb746866d083bfa5f7324f7de38e6b2e270f6bad1abb2fac5290c6c87c2f4d43eef6d43f71a3b0073bca459fd615481cc129b1fb6b6cb221d5435c4fb78d704d12594046dc9ee2f38fbfffe3d7360e36401f0f6ec84944d41345a6a561a13999c17d341c986ac7c5cd70b90c3e5968ea3b1bb1a2b0295a124f043f379eb564e77501d486b0503a3d62fe8c938d8f47b55c80a263423357727ba9ccbc23406e54646f76d6b8e3a6fd","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
